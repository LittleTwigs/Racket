<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{thymeleaf/layout/mainLayout}">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script>
	function showAlert() {
		alert("익명 문의글입니다");
	}
</script>
</head>
<body>	
	<th:block layout:fragment="css">
		<link rel="stylesheet" type="text/css" href="common/css/inquirywrite.css"> 
		<link rel="stylesheet" href="common/css/styles.css"/>
		<style type="text/css">
  			table {
  				border-collapse: separate;
 				border-spacing: 50px;
			}
		</style>
		
	</th:block>
	
	<th:block layout:fragment="content">
		<div class="container-fluid" style="margin-top: 120px; margin-left: 50px">
        <div class="card">
          <div class="card-body">
            <h2 class="card-title fw-semibold mb-4" style="font-size: 30px">문의</h2>
            <div>
            <table>
            	<thead>
	            	<th width="100">No</th>
	            	<th width="500">제목</th>
	            	<th width="150">아이디</th>
	            	<th width="150">작성 시간</th>
            	</thead>
            	<tbody>
            		<tr th:each="inquiry:${inquirylist}">
            			<td><span th:text="${inquiry.inquiryNo }"></span></td>
            			<td>
            				<a th:href="@{/inquiryread(inquiryNo=${inquiry.inquiryNo },state=${'READ'})}" th:unless="${inquiry.inqAnonymous == '1'}"><span th:text="${inquiry.inqTitle }"></span></a>
            				<th:block th:if="${session.user}!=null">
            					<a th:href="@{/inquiryread(inquiryNo=${inquiry.inquiryNo },state=${'READ'})}" th:if="${inquiry.inqAnonymous == '1'} and (${inquiry.memberId} == ${member.memberId} or ${member.memberAuth=='2'})"><span th:text="${inquiry.inqTitle }"></span></a>
            				</th:block>
            				<a th:href="@{/inquiryboard(pageNo=0)}" onclick="showAlert()" th:if="${inquiry.inqAnonymous == '1'}">
            					<span th:text="${inquiry.inqTitle}"></span>
            					<img src="/racket/images/lock.png" style="width:15px; height:15px; margin-left: 10px">
        					</a>
            			</td>
            			<td><span th:text="${inquiry.memberId}"></span></td>
            			<td><span th:text="${inquiry.inqDate }"></span></td>
            		</tr>
            	</tbody>	
            </table>
            </div>
            <div style="margin-top:10px; margin-bottom: 35px">
            	<nav aria-label="Page navigation example">
			  	<ul class="pagination pagination-md justify-content-center">
			    <li class="page-item">
			      <a class="page-link" href="#" aria-label="Previous">
			        <span aria-hidden="true">&laquo;</span>
			      </a>
			    </li>
			    <li class="page-item" th:each="i : ${#numbers.sequence(0, totalPageNumber-1)}"><a class="page-link" th:href="@{/inquiryboard(pageNo=${i})}"><span th:text="${i+1}" style="color: navy"></span></a></li>
			    <li class="page-item">
			      <a class="page-link" href="#" aria-label="Next">
			        <span aria-hidden="true">&raquo;</span>
			      </a>
			    </li>
			  	</ul>
				</nav>
            </div>
            <div align="center" style="margin-bottom: 40px">
            	<input style="height: 40px; width: 250px; font-size: 17px"><span style="margin-left: 15px"><button type="submit" style="border-radius: 6px">검색</button></span>
            </div>
            <div align="right">
				<button type="submit" style="border-radius: 6px" onclick="window.location.href='/racket/inquirywrite'">글쓰기</button>
			</div>
          </div>
        </div>
      </div>	
	</th:block>
</body>
</html>