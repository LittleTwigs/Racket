
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org/"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{thymeleaf/layout/mainLayout}">
<head>
<title>Story by HTML5 UP</title>
<meta charset="utf-8" />
<meta name="viewport"
	content="width=device-width, initial-scale=1, user-scalable=no" />
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM"
	crossorigin="anonymous">

<link rel="stylesheet" href="/racket/common/assets/css/main.css" />
<noscript>
	<link rel="stylesheet" href="/racket/common/assets/css/noscript.css" />
</noscript>
<style type="text/css">
th {
	text-align: center;
}

tr td {
	vertical-align: middle;
}

td a {
	vertical-align: middle;
}

td label {
	vertical-align: middle;
}
</style>
<script th:inline="javascript">
    /* 알림 메시지를 받아서 알림 창을 띄움 */
    var alertMessage = /*[[${alertMessage}]]*/ "";
    if (alertMessage && alertMessage !== "") {
        alert(alertMessage);
    }
</script>

<script th:inline="javascript">
$(document).ready(function(){
	let msg = [[${msg}]];
	if(msg == null){
	}else{
		alert(msg);
	}
	
	
	
})
	
</script>
</head>
<body class="is-preload">
	<th:block layout:fragment="content">
		<!-- Wrapper -->
		<div id="wrapper"></div>
		<!-- Table -->
		<div class="col-lg-11"
			style="position: relative; float: right; margin-top: 130px; margin-left: 150px;">
			<section>
				<div class="content">
					<ul class="actions">
						<li>
							<form action="/racket/mypage/info" method="post">
								<input type="hidden" th:value="${session.user.memberId}"
									name="memberId" id="memberId">
								<button type="submit">내정보</button>
							</form>
						</li>
						<li><a href="/racket/mypage/change" class="button">정보수정</a></li>
						<li><a href="/racket/mypage/cash" class="button">충전</a></li>
						<li>
							<form action="/racket/mypage/reservation" method="post">
								<input type="hidden" th:value="${session.user.memberId}"
									name="memberId" id="memberId">
								<button type="submit">예약</button>
							</form>
						</li>
						<li><a href="/racket/mypage/match" class="button">매치</a></li>
						<li>
							<form action="/racket/mypage/training" method="post">
								<input type="hidden" th:value="${session.user.memberId}"
									name="memberId" id="memberId">
								<button type="submit">강습</button>
							</form>
						</li>
						<li><a href="/racket/mypage/trainingAttend" class="button">강습
								참가</a></li>
					</ul>
				</div>
			</section>

			<div class="box">
				<div class="table-wrapper">
					<table>
						<thead>
							<tr>
								<th>경기방식</th>
								<th>모집성별</th>
								<th>모집인원</th>
								<th>사용금액</th>
								<th>모집상태</th>
								<th>경기날짜 및 시간</th>
							</tr>
						</thead>
						<tbody>
							<tr th:each="user:${reservationUser}">
								<td>
									<span th:switch="${user.reservationMet}"> 
										<span th:case="2">단식</span> 
										<span th:case="4">복식</span>
									</span>
								</td>
								<td><span th:text="${user.reservationGender}"></span></td>
								<td><span th:text="${user.reservationMet}+'명'"></span></td>
								<td><span th:text="${user.reservationFee}+'원'"></span></td>
								<td><span th:text="${user.reservationStatus}"></span></td>
								<td><span th:text="${user.reservationDate}"></span> <br />
									<span th:switch="${user.courtHourNo}"> 
										<span th:case="1">00:00 ~ 02:00</span>
										<span th:case="2">02:00 ~ 04:00</span> 
										<span th:case="3">04:00 ~ 06:00</span> 
										<span th:case="4">06:00 ~ 08:00</span> 
										<span th:case="5">08:00 ~ 10:00</span> 
										<span th:case="6">10:00 ~ 12:00</span> 
										<span th:case="7">12:00 ~ 14:00</span> 
										<span th:case="8">14:00 ~ 16:00</span> 
										<span th:case="9">16:00 ~ 18:00</span> 
										<span th:case="10">18:00 ~ 20:00</span> 
										<span th:case="11">20:00 ~ 22:00</span> 
										<span th:case="12">22:00 ~ 24:00</span>
									</span>
								</td>
								<td th:each="date:${date}" th:if="${user.reservationDate == date.reservationDate} and ${user.courtHourNo == date.courtHourNo} and ${user.reservationNo == date.reservationNo}" >
									<button type="button" class="button small">예약취소</button>
								</td>
							</tr>
						</tbody>
						<tfoot>
                        	<tr th:if="${reservationUser!=null}">
                            	<td style="text-align: center;" colspan="7">
                                	<ul class="icons" style="margin: 0px;">
                                    	<li th:class="${currentPage == 0} ? 'icon-angle-double-right disabled' : 'icon-angle-double-right'"><a class="page-link" th:href="@{/mypage/reservation(memberId=${session.user.memberId},pageNo=0)}">&laquo;</a></li>
                                    	<li th:class="${currentPage == 0} ? 'icon-angle-double-right disabled' : 'icon-angle-double-right'"><a class="page-link" th:href="@{/mypage/reservation(memberId=${session.user.memberId},pageNo=${currentPage - 1})}">&lt;</a></li>
                                    	<li th:each="page: ${#numbers.sequence(0, totalPages - 1)}"
										    th:class="${currentPage == page}">
										    <a class="page-link" th:href="@{/mypage/reservation(memberId=${session.user.memberId},pageNo=${page})}"
										        th:text="${page + 1}" th:style="${currentPage == page} ? 'font-weight:bold' : ''">
										    </a>
										</li>
                                    	<li th:class="${currentPage == totalPages - 1} ? 'icon-angle-double-right disabled' : 'icon-angle-double-right'"><a class="page-link" th:href="@{/mypage/reservation(memberId=${session.user.memberId},pageNo=${currentPage + 1})}">&gt;</a></li>
                                    	<li th:class="${currentPage == totalPages - 1} ? 'icon-angle-double-right disabled' : 'icon-angle-double-right'"><a class="page-link" th:href="@{/mypage/reservation(memberId=${session.user.memberId},pageNo=${totalPages - 1})}">&raquo;</a></li>
                                	</ul>
                            	</td>
                        	</tr>
                    	</tfoot>
					</table>
				</div>
			</div>
		</div>
		<!-- Scripts -->
		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
			integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
			crossorigin="anonymous"></script>
		<!-- Scripts -->
		<script src="/racket/common/assets/js/jquery.min.js"></script>
		<script src="/racket/common/assets/js/jquery.scrollex.min.js"></script>
		<script src="/racket/common/assets/js/jquery.scrolly.min.js"></script>
		<script src="/racket/common/assets/js/browser.min.js"></script>
		<script src="/racket/common/assets/js/breakpoints.min.js"></script>
		<script src="/racket/common/assets/js/util.js"></script>
		<script src="/racket/common/assets/js/main.js"></script>
		<!-- Note: Only needed for demo purposes. Delete for production sites. -->
		<script src="/racket/common/assets/js/demo.js"></script>
	</th:block>
</body>
</html>